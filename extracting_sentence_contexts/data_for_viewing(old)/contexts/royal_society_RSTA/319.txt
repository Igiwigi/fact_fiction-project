just the observables that are compatible with the measurements: mathematically,
this means that we may estimate an observable if and only if it belongs to the
commutant @' = {X €@&:[X,M]=0 for all Me}.

The error of an estimator X €.@ is given as E[(X — X)"] and the optimal
estimator is the conditional expectation

X =E[X|.4]. (3.1)

Conditional expectations do not always exist in the non-commutative setting
of quantum probability; however, in the present context, E[-|.W] is well defined so
long as its domain is the set .@’ of observables compatible with the measurement
algebra .@. In fact, for given X €.Z@’, the algebra generated by X and the
elements of .@ is commutative; so, in a sense, we are just doing ordinary classical
conditioning. The construction is however not trivial as the set of measurement
compatible observables .#’ typically is itself a non-commutative algebra.

(ii) Quantum filtering

We now recall the problem of quantum filtering as the causal estimation of
a quantum open Markovian system. Here (figure 13), we measure an observable
Y(t) of the output field. Our aim is to estimate causally any observable X of the

system at time t, that is j,(X) = UN (X ® I) U;, from the observations up to time ¢,
[is(X), Y(t)1=0,